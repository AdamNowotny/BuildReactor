<div class="build" ng-class="{ 'broken': build.isBroken, 'disabled': build.isDisabled, 'building': build.isRunning, 'offline': build.error }">
	<a ng-href="{{ build.webUrl }}" target="{{ build.webUrl ? '_blank' : '_self' }}" class="progress-bar" ng-class="{ 'active': build.isRunning, 'progress-bar-striped':build.isRunning }">
		<span class="labels pull-right">
			<span ng-show="build.error" class="label label-default" tooltip="{{ build.error.description }}">
				Offline	<span class="error-message">({{ build.error.message }})</span>
			</span>
			<span ng-repeat="tag in build.tags">
				<span class="label" ng-class="getLabelClasses(build)" tooltip="{{ build.description }}">{{ tag.name }}</span>
			</span>
			<span ng-show="build.isDisabled" class="label label-default">Disabled</span>
		</span>
		<span class="build-name">{{ build.name }}</span>

		<div class="changes-container" ng-show="viewConfig.showRelease && !build.error">
			<span>
				<span class="change-message">{{ build.statusText}}</span>
			</span>
		</div>
		<div class="changes-container" ng-show="viewConfig.showFinishedDate && !build.error && !build.isRunning">
			<span>
				<span class="change-message">Finished: {{ build.finishDate | date : 'short' }}</span>
			</span>
		</div>
		<div class="changes-container" ng-show="viewConfig.showFinishedDate && !build.error && build.isRunning">
			<span>
				<span class="change-message">Started: {{ build.startDate | date : 'short' }}</span>
			</span>
		</div>
		<div class="changes-container" ng-show="viewConfig.showCommits && !build.error">
			<span class="changes" ng-class="{ active: $index === changeIndex }" title="{{ change.name + ': ' + change.message }}" ng-repeat="change in build.changes">
				<span class="change-name">{{ change.name }}</span>
				<span class="change-message" ng-if="change.message">: {{ change.message }}</span>
			</span>
		</div>
	</a>
</div>