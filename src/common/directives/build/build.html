<div class="build" ng-class="{ 'broken': build.isBroken, 'disabled': build.isDisabled, 'building': build.isRunning, 'offline': build.error, 'color-blind': viewConfig.colorBlindMode }">
    <a ng-href="{{ build.webUrl }}" target="{{ build.webUrl ? '_blank' : '_self' }}" class="progress-bar" ng-class="{ 'active': build.isRunning, 'progress-bar-striped': build.isRunning || build.isWaiting }">
        <div class="build-content">
            <span class="labels pull-right">
                <span ng-show="build.error" class="label label-default" uib-tooltip="{{ build.error.description }}">
                    Offline    <span class="error-message">({{ build.error.message }})</span>
                </span>
                <span ng-repeat="tag in build.tags">
                    <span class="label" ng-class="getLabelClasses(build)" uib-tooltip="{{ build.description }}">{{ tag.name }}</span>
                </span>
                <span ng-show="build.isDisabled" class="label label-default">Disabled</span>
            </span>
            <span class="build-name">{{ build.name }}</span>
            <div class="changes-container" ng-show="viewConfig.showCommits" ng-class="{ visible : commitsVisible }">
                <span class="changes" ng-class="{ active: $index === changeIndex }" title="{{ change.name + ': ' + change.message }}" ng-repeat="change in build.changes">
                    <span class="change-name">{{ change.name }}</span>
                    <span class="change-message" ng-if="change.message">: {{ change.message }}</span>
                </span>
            </div>
        </div>
        <div class="color-blind-markers">
            <i class="color-blind-marker-broken fa fa-bolt fa-2x fa-inverse"></i>
            <i class="color-blind-marker-offline fa fa-exclamation-triangle fa-2x fa-inverse"></i>
        </div>
    </a>
</div>
